import{r as l,j as e}from"./framer-motion-B4_CJGXS.js";import{c as N,a as p,b as f,d}from"./index-CxtCZa1v.js";import{k as P,e as g,d as m,u as I}from"./firebase-CKBzFk3f.js";import{C as n,c as i,a as H,b as M,B as j}from"./button-CCKa5jUo.js";import O from"./index-BpYLA0jg.js";import{c as S}from"./constants-DTA4gtYl.js";import{P as U}from"./PageHeader-Lihv4X5P.js";import"./radix-ui-DTUURzEd.js";import"./ui-utils-BxIQ3qGg.js";/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=N("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=N("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);function F(){const s=p.currentUser,[o,w]=l.useState([]),[r,u]=l.useState([]);if(l.useEffect(()=>{(async()=>{if(!s)return;const a=(await g(m(d,"users",s.uid))).data(),k=(a==null?void 0:a.connections)||[],C=await Promise.all(k.map(async x=>{var h;const L=await g(m(d,"users",x));return{uid:x,name:((h=L.data())==null?void 0:h.displayName)||"Anon"}}));w(C),u((a==null?void 0:a.interests)||[])})()},[s]),!s)return e.jsx(O,{});const y=()=>P(p),b=S,v=async t=>{if(!s)return;const c=r.includes(t)?r.filter(a=>a!==t):[...r,t];u(c),await I(m(d,"users",s.uid),{interests:c})};return e.jsxs("div",{className:"space-y-8",children:[e.jsx(U,{title:"Mi Perfil",description:"Gestiona tu información y preferencias",icon:e.jsx(f,{className:"w-8 h-8 md:w-10 md:h-10 text-white"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(n,{children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"relative",children:s.photoURL?e.jsx("img",{src:s.photoURL,alt:"avatar",className:"w-16 h-16 rounded-full"}):e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full flex items-center justify-center",children:e.jsx(f,{className:"w-8 h-8 text-white"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-semibold text-foreground",children:s.displayName}),e.jsx("p",{className:"text-muted-foreground",children:s.email})]})]})})}),o.length>0&&e.jsx(n,{children:e.jsxs(i,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(z,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-1",children:o.length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:o.length===1?"Amigo conectado":"Amigos conectados"})]})}),e.jsxs(n,{children:[e.jsx(H,{children:e.jsx(M,{className:"text-lg",children:"Intereses"})}),e.jsx(i,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(t=>e.jsx(j,{type:"button",variant:r.includes(t)?"default":"outline",size:"sm",onClick:()=>v(t),children:t},t))})})]}),e.jsx(n,{className:"bg-gradient-to-br from-red-50 to-pink-50 border-red-200",children:e.jsx(i,{className:"py-6",children:e.jsxs(j,{onClick:y,variant:"destructive",className:"w-full bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Cerrar Sesión"]})})})]})]})}export{F as default};

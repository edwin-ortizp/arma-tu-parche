const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-RDAVpZEL.js","assets/framer-motion-B4_CJGXS.js","assets/PageHeader-Lihv4X5P.js","assets/radix-ui-DTUURzEd.js","assets/firebase-CKBzFk3f.js","assets/ui-utils-BxIQ3qGg.js","assets/button-CCKa5jUo.js","assets/EmptyState-DXYLOXNh.js","assets/useConnections-xNm_MLxY.js","assets/check-D4YSFbia.js","assets/index-C6AyCzyL.js","assets/index-BpYLA0jg.js","assets/input-V1delrEd.js","assets/select-BUNPSNEw.js","assets/constants-DTA4gtYl.js","assets/index-CwajOFkK.js","assets/map-pin-B0u_CyAy.js","assets/index-_d_52FF4.js","assets/index-B4p5q9pw.js","assets/x-B7Ayx_S2.js"])))=>i.map(i=>d[i]);
import{r as l,j as e}from"./framer-motion-B4_CJGXS.js";import{r as P}from"./radix-ui-DTUURzEd.js";import{i as L,g as S,c as C,o as R,d as I,e as y,q as O,f as U,w as z,h as M,s as D}from"./firebase-CKBzFk3f.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function i(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(t){if(t.ep)return;t.ep=!0;const r=i(t);fetch(t.href,r)}})();var N,b=P;N=b.createRoot,b.hydrateRoot;const q="modulepreload",H=function(s){return"/arma-tu-parche/"+s},v={},p=function(n,i,a){let t=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));t=Promise.allSettled(i.map(d=>{if(d=H(d),d in v)return;v[d]=!0;const m=d.endsWith(".css"),f=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const u=document.createElement("link");if(u.rel=m?"stylesheet":q,m||(u.as="script"),u.crossOrigin="",u.href=d,c&&u.setAttribute("nonce",c),document.head.appendChild(u),m)return new Promise((x,g)=>{u.addEventListener("load",x),u.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return t.then(o=>{for(const c of o||[])c.status==="rejected"&&r(c.reason);return n().catch(r)})};/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_=(...s)=>s.filter((n,i,a)=>!!n&&a.indexOf(n)===i).join(" ");/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var B={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=l.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:t="",children:r,iconNode:o,...c},d)=>l.createElement("svg",{ref:d,...B,width:n,height:n,stroke:s,strokeWidth:a?Number(i)*24/Number(n):i,className:_("lucide",t),...c},[...o.map(([m,f])=>l.createElement(m,f)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=(s,n)=>{const i=l.forwardRef(({className:a,...t},r)=>l.createElement(V,{ref:r,iconNode:n,className:_(`lucide-${$(s)}`,a),...t}));return i.displayName=`${s}`,i};/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=h("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=h("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=h("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=h("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=h("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=h("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);function G({current:s,onChange:n,isAdmin:i}){const a=[{key:"home",label:"Inicio",icon:F},{key:"friends",label:"Amigos",icon:Z},{key:"matches",label:"Matches",icon:T},{key:"profile",label:"Perfil",icon:W}];return i&&a.push({key:"config",label:"Config",icon:K}),e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-sm border-t border-gray-200 shadow-2xl z-50 m-4 mb-6 rounded-2xl",children:e.jsx("div",{className:"max-w-md mx-auto px-4",children:e.jsx("div",{className:"flex justify-around py-4",children:a.map(({key:t,label:r,icon:o})=>e.jsxs("button",{onClick:()=>n(t),className:`flex flex-col items-center text-xs focus:outline-none px-4 py-3 rounded-xl transition-all duration-300 transform hover:scale-110 min-w-0 ${s===t?"text-white bg-gradient-to-r from-pink-500 to-purple-500 shadow-lg":"text-gray-600 hover:text-gray-800 hover:bg-white/20"}`,children:[e.jsx(o,{size:22,className:"mb-1 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-xs truncate",children:r})]},t))})})})}const Q={apiKey:"AIzaSyDBlAeRtkmG7lBOg930rj0nvrqeQiAptfw",authDomain:"citapp-9f0fc.firebaseapp.com",projectId:"citapp-9f0fc",storageBucket:"citapp-9f0fc.firebasestorage.app",messagingSenderId:"499704875874",appId:"1:499704875874:web:f3cee2bb2d0c9934493a3b"},A=L(Q),j=S(A),w=C(A);function J(){const[s,n]=l.useState(j.currentUser),[i,a]=l.useState(),[t,r]=l.useState(!0);return l.useEffect(()=>R(j,async c=>{if(n(c),c)try{const d=I(w,"users",c.uid);let m=await y(d);if(!m.exists()){let f="";for(let x=0;x<5;x++){f=Math.floor(1e3+Math.random()*9e3).toString();const g=O(U(w,"users"),z("pin","==",f));if((await M(g)).empty)break}const u={uid:c.uid,displayName:c.displayName,email:c.email,photoURL:c.photoURL,pin:f,role:"user",connections:[]};await D(d,u),m=await y(d)}a(m.data())}catch(d){console.error("Error en la gestión del usuario:",d)}else a(void 0);r(!1)}),[]),{user:s,userData:i,loading:t}}const X=l.lazy(()=>p(()=>import("./index-RDAVpZEL.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),Y=l.lazy(()=>p(()=>import("./index-C6AyCzyL.js"),__vite__mapDeps([10,1,2,3,4,5,6,11,9,12,13,14,8]))),ee=l.lazy(()=>p(()=>import("./index-CwajOFkK.js"),__vite__mapDeps([15,1,2,3,4,5,6,7,11,16,13,9]))),te=l.lazy(()=>p(()=>import("./index-_d_52FF4.js"),__vite__mapDeps([17,1,4,6,3,5,11,14,2]))),re=l.lazy(()=>p(()=>import("./index-B4p5q9pw.js"),__vite__mapDeps([18,1,4,12,6,3,5,2,11,19]))),se=l.lazy(()=>p(()=>import("./index-BpYLA0jg.js"),__vite__mapDeps([11,1,4,6,3,5]))),k=()=>e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(E,{className:"w-6 h-6 animate-spin text-pink-500"}),e.jsx("span",{className:"text-muted-foreground",children:"Cargando página..."})]})});function ae(){const[s,n]=l.useState("home"),{user:i,userData:a,loading:t}=J();return t?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(E,{className:"w-6 h-6 animate-spin"}),e.jsx("span",{className:"text-muted-foreground",children:"Cargando..."})]})}):i?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-100 via-purple-50 to-indigo-100",children:[e.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:e.jsxs("nav",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-pink-500 to-purple-500 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"A"})}),e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:"Arma tu Parche"})]}),e.jsx("div",{className:"hidden md:flex items-center space-x-2",children:[{key:"home",label:"Inicio",icon:"home"},{key:"friends",label:"Amigos",icon:"users"},{key:"matches",label:"Matches",icon:"heart"},{key:"profile",label:"Perfil",icon:"user"},...(a==null?void 0:a.role)==="admin"?[{key:"config",label:"Config",icon:"settings"}]:[]].map(({key:r,label:o})=>e.jsx("button",{onClick:()=>n(r),className:`px-6 py-3 rounded-xl font-medium transition-all transform hover:scale-105 ${s===r?"bg-gradient-to-r from-pink-500 to-purple-500 text-white shadow-lg":"text-gray-700 hover:text-gray-900 hover:bg-white/30 backdrop-blur-sm"}`,children:o},r))}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:i.photoURL||"",alt:"Avatar",className:"w-10 h-10 rounded-full border-2 border-white/30 shadow-lg"}),e.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:i.displayName})]})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto px-6 py-8 pb-32 md:pb-8",children:e.jsxs(l.Suspense,{fallback:e.jsx(k,{}),children:[s==="home"&&e.jsx(X,{}),s==="friends"&&e.jsx(Y,{}),s==="matches"&&e.jsx(ee,{}),s==="profile"&&e.jsx(te,{}),s==="config"&&e.jsx(re,{})]})}),e.jsx("div",{className:"md:hidden",children:e.jsx(G,{current:s,onChange:n,isAdmin:(a==null?void 0:a.role)==="admin"})})]}):e.jsx(l.Suspense,{fallback:e.jsx(k,{}),children:e.jsx(se,{})})}N(document.getElementById("root")).render(e.jsx(l.StrictMode,{children:e.jsx(ae,{})}));export{T as H,K as S,Z as U,p as _,j as a,W as b,h as c,w as d,J as u};
